# –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–π ML-–ø–∞–π–ø–ª–∞–π–Ω: DVC –∏ MLflow

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–π –ø–∞–π–ø–ª–∞–π–Ω –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –≤ —Ä–∞–º–∫–∞—Ö –º–æ–¥—É–ª—è "–û—Å–Ω–æ–≤—ã –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ–≥–æ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª MLOps".

–î–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è **–≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏** –∏ **–æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤** –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –∫–ª—é—á–µ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
* **DVC (Data Version Control)**: –î–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (`data/raw/iris.csv`) –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è ML-–ø–∞–π–ø–ª–∞–π–Ω–∞ (`dvc.yaml`).
* **MLflow**: –î–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –º–µ—Ç—Ä–∏–∫ –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ (–æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏).
–û—Ç–ª–∏—á–Ω–æ! –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ README.md ‚Äî —ç—Ç–æ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π —à–∞–≥ –¥–ª—è –ª—é–±–æ–≥–æ MLOps-–ø—Ä–æ–µ–∫—Ç–∞. –û–Ω –¥–µ–ª–∞–µ—Ç –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ–Ω—è—Ç–Ω—ã–º –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–º.

–í–æ—Ç —à–∞–±–ª–æ–Ω, –∫–æ—Ç–æ—Ä—ã–π –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–∞—à–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è:

üìù README.md: –®–∞–±–ª–æ–Ω –¥–ª—è MLOps-–ø—Ä–æ–µ–∫—Ç–∞
Markdown

# üöÄ –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–π ML-–ø–∞–π–ø–ª–∞–π–Ω: DVC –∏ MLflow

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–π –ø–∞–π–ø–ª–∞–π–Ω –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –≤ —Ä–∞–º–∫–∞—Ö –º–æ–¥—É–ª—è "–û—Å–Ω–æ–≤—ã –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ–≥–æ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è. –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª MLOps".

–î–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è **–≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏** –∏ **–æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤** –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –∫–ª—é—á–µ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
* **DVC (Data Version Control)**: –î–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (`data/raw/iris.csv`) –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è ML-–ø–∞–π–ø–ª–∞–π–Ω–∞ (`dvc.yaml`).
* **MLflow**: –î–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –º–µ—Ç—Ä–∏–∫ –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ (–æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏).

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞

‚îú‚îÄ‚îÄ data/ ‚îÇ ‚îú‚îÄ‚îÄ raw/ ‚îÇ ‚îî‚îÄ‚îÄ processed/ ‚îú‚îÄ‚îÄ src/ ‚îÇ ‚îú‚îÄ‚îÄ prepare.py # –°—Ç–∞–¥–∏—è 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (—Å–ø–ª–∏—Ç) ‚îÇ ‚îî‚îÄ‚îÄ train.py # –°—Ç–∞–¥–∏—è 2: –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ MLflow ‚îú‚îÄ‚îÄ .dvc/ # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è DVC ‚îú‚îÄ‚îÄ mlflow.db # –õ–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MLflow ‚îú‚îÄ‚îÄ dvc.yaml # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞–π–ø–ª–∞–π–Ω–∞ DVC ‚îú‚îÄ‚îÄ dvc.lock # –§–∞–π–ª –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ DVC (—Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ) ‚îú‚îÄ‚îÄ params.yaml # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã (split_ratio, random_state –∏ —Ç.–¥.) ‚îú‚îÄ‚îÄ requirements.txt # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python ‚îî‚îÄ‚îÄ README.md
–î–ª—è –ø–æ–ª–Ω–æ–≥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ—Ö –∂–µ –º–µ—Ç—Ä–∏–∫ —Å–ª–µ–¥—É–π—Ç–µ —ç—Ç–∏–º —à–∞–≥–∞–º.

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –°—Ä–µ–¥—ã

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone <URL –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è>
    cd mlope_dvc_mlflow_project
    ```

2.  **–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
    ```bash
    python -m venv .venv
    # –î–ª—è Windows PowerShell:
    .\.venv\Scripts\Activate.ps1
    # –î–ª—è Linux/macOS/Git Bash:
    # source .venv/bin/activate
    ```

3.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    pip install -r requirements.txt
    ```

### 2. –ó–∞–ø—É—Å–∫ DVC –∏ MLflow

1.  **–ü–æ–ª—É—á–∏—Ç–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∏–∑ DVC-–∫–µ—à–∞):**
    ```bash
    dvc pull
    ```
    *–≠—Ç–æ—Ç —à–∞–≥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç `data/raw/iris.csv` –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–∞–Ω–Ω—ã—Ö.*

2.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ MLflow Tracking Server (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ):**
    ```bash
    mlflow ui --backend-store-uri sqlite:///mlflow.db
    ```
    *–û—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª –æ—Ç–∫—Ä—ã—Ç—ã–º. UI –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `http://127.0.0.1:5000`.*

3.  **–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–∏—Ç–µ –ø–∞–π–ø–ª–∞–π–Ω DVC:**
    ```bash
    dvc repro
    ```
    *DVC –≤—ã–ø–æ–ª–Ω–∏—Ç —Å—Ç–∞–¥–∏–∏ `prepare` –∏ `train`. –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (`params.yaml`) –Ω–µ –º–µ–Ω—è–ª–∏—Å—å, DVC –ø—Ä–æ–ø—É—Å—Ç–∏—Ç —Å—Ç–∞–¥–∏–∏ –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å.*

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

* **DVC:** –ü—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ–º `Data and pipelines are up to date.`, –µ—Å–ª–∏ –Ω–µ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π.
* **MLflow:** –û—Ç–∫—Ä–æ–π—Ç–µ UI MLflow –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–µ **"DVC\_MLflow\_Pipeline\_Iris"** –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã:
    * **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `random_state: 42`, `test_size: 0.2` –∏ —Ç.–¥.
    * **–ú–µ—Ç—Ä–∏–∫–∏:** `accuracy` (–¢–æ—á–Ω–æ—Å—Ç—å).
    * **–ê—Ä—Ç–µ—Ñ–∞–∫—Ç:** –û–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å `model.pkl`.

---

## üî¨ –ü–∞–π–ø–ª–∞–π–Ω –∏ –ú–æ–¥–µ–ª—å

### –°—Ç–∞–¥–∏–∏ DVC

| –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
| :--- | :--- | :--- | :--- |
| `prepare` | –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö Iris –Ω–∞ –æ–±—É—á–∞—é—â—É—é –∏ —Ç–µ—Å—Ç–æ–≤—É—é –≤—ã–±–æ—Ä–∫–∏. | `src/prepare.py`, `params.yaml`, `data/raw/iris.csv` | `data/processed` |
| `train` | –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏, –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ MLflow. | `src/train.py`, `params.yaml`, `data/processed` | `model.pkl` |

### –ú–æ–¥–µ–ª—å

* **–¢–∏–ø –º–æ–¥–µ–ª–∏:** –õ–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è (`LogisticRegression`).
* **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `params.yaml` (`solver: liblinear`, `max_iter: 1000`).
